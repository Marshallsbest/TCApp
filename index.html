<!DOCTYPE html>
<html lang="en">
<head>
  <base target="_top"> 
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.green-amber.min.css"/>
  <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <title>Luke's Logging App</title>
  <?!= HtmlService.createHtmlOutputFromFile('Stylesheet').getContent(); ?>
  
</head>
<script>
  window.addEventListener('load', function() {
  console.log('Page is loaded');
   document.getElementById("customerSelect").focus();
  });
</script>

<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header">
      <div class="mdl-layout__header-row">
        <span class="mdl-layout-title">Taurus Craco Service Tech Daily Log</span>
        <div class="mdl-layout-spacer"></div>
      </div>
    </header>
    <main class="mdl-layout__content">
      <div class="content-grid mdl-grid">
        <div class="content-column mdl-cell mdl-cell--2-col mdl-cell--hide-phone"></div>
        <div class="content-column mdl-shadow--4dp mdl-cell mdl-cell--16-col mdl-cell--4-col-phone mdl-cell--top">
          <div class="mdl-card__title">
            <h2 class="mdl-card__title-text">Add a Log Entry</h2>
          </div>
          <div>
            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="addOrderDate">
              <span class="mdl-checkbox__label">Add older Record?</span>
              <input type="checkbox" id="addOrderDate" class="mdl-checkbox__input">
            </label>
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label has-placeholder" id="orderDateField">
              <label class="mdl-textfield__label" for="orderDate">Date of record</label>
              <input class="mdl-textfeild__input" type="date" id="orderDate" name="orderDate"/>  
          </div>
          <!--  Material spinner element removed until functionality can be tested--> 
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <label class="mdl-textfield__label" for="workOrder">Work Order:</label>
            <input class="mdl-textfield__input" type="text" id="workOrder"  name="workOrder"/>  
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <select class="selectName mdl-textfield__input" onchange="gotCustomer(this.value)" id="customerSelect" name="customerSelect">
              <option></option>
                <? for (var i = 0; i<data.length; i++ ) { ?>
                  <option value="<?= data[i] ?>"><?=data[i]?>
                  </option>
                <? } ?>
            </select>
            <label class="mdl-textfield__label" for="customerSelect">Choose an Customer</label>
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label hideTillNeeded" id="newCustomer">
            <label class="mdl-textfield__label" for="customerName">Customer Name</label>
            <input class="mdl-textfield__input" type="text" id="customerName" name="customerName"/>
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label hideTillNeeded" id="selectMachine" name="selectMachine">
            <select class="mdl-textfield__input machineSelect" id="machineSelect" name="machineSelect" onChange="checkOption(this.value)">
              <option id="default" value=""></option>
              <option id="pleaseSelect" value="pleaseSelect">Please select a customer first</option>
              <option id="New Machine" value="New Machine">New Machine</option>
            </select>
            <label class="mdl-textfield__label" for="machineSelect">Choose a machine</label>
          </div>
          <br>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label hideTillNeeded" id="newMachine">
            <label class="mdl-textfield__label" for="machineName">Machine Name:</label>
            <input class="mdl-textfield__input" type="text" id="machineName" name="machineName"/>
          </div>
          <br>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <label class="mdl-textfield__label" for="logEntry">Log Entry:</label>
            <input class="mdl-textfield__input" type="text" id="logEntry" name="logEntry"/>
          </div>
          <br>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <label class="mdl-textfield__label" for="totalHours">Total Hours:</label>
            <input class="mdl-textfield__input" type="number" id="totalHours" name="totalHours" step="0.25"/>
          </div>
          <br>
          <div id="output" >
            </div>
          <div>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="logButton" onclick="handleFormSubmit()">Submit</button>
          </div>
            <br>
            <br>
          <div>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="EmailButton" onclick="EmailSheet()">Email Log Sheet</button>
          </div>
          <br>
        </div><!-- mdl-cell -->
        <div class="content-column mdl-cell mdl-cell--2-col mdl-cell--hide-phone"></div>
      </div><!-- mdl-grid -->
    </main>
  </div>
  <!-- Add the JavaScript  -->
  <?!= HtmlService.createHtmlOutputFromFile('JavaScript').getContent(); ?>
</body>
</html>
 